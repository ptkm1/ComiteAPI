generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Historicos {
  id            String   @id @default(uuid())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  acao          String?
  coordenador   Usuario? @relation(fields: [coordenadorId], references: [id])
  coordenadorId String?
}

model Usuario {
  id         String       @id @default(uuid())
  email      String       @unique
  nome       String
  senha      String
  postos     Posto[]
  RG         RG[]
  Historicos Historicos[]
  Certidao   Certidao[]
}

model Posto {
  id            String   @id @default(uuid())
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  nome_do_posto String
  coordenador   Usuario? @relation(fields: [coordenadorId], references: [id])
  coordenadorId String?
}

model Administrador {
  id       String     @id @default(uuid())
  email    String     @unique
  nome     String
  senha    String
  RG       RG[]
  Certidao Certidao[]
}

model TiposDeStatus {
  id     Int    @id @default(autoincrement())
  titulo String @db.VarChar(255)
}

model RG {
  id                   String         @id @default(uuid())
  NomeCompleto         String
  NomeDoPai            String
  NomeDaMae            String
  CPF                  String
  RG                   String
  DataDeNascimento     String
  Orgao                String
  Motivo               String
  DataDeSolicitacao    String
  CidadaoSabeCPF       String
  CidadaoEmPosseCPF    String
  Contato1             String
  Contato2             String
  Contato3             String
  Whatsapp             String
  EstadoDeNaturalidade String
  CidadeDeNaturalidade String
  EnderecoResidencial  String
  CidadeResidencial    String
  Cep                  String
  Status               String
  LocalDeAgendamento   String
  DataDeAgendamento    String
  HoraDoAgendamento    String
  Resolvido            String
  Observacao           String
  coordenador          Usuario?       @relation(fields: [coordenadorId], references: [id])
  coordenadorId        String?
  Admin                Administrador? @relation(fields: [AdminId], references: [id])
  AdminId              String?
}

model Certidao {
  id                   String         @id @default(uuid())
  NomeCompleto         String
  Status               String
  NomeDoPai            String
  NomeDaMae            String
  CPF                  String
  RG                   String
  DataDeNascimento     String
  Orgao                String
  EmailDoSolicitante   String
  Observacao           String
  Contato1             String
  EstadoDeNaturalidade String
  CidadeDeNaturalidade String
  DataDeSolicitacao    String
  coordenador          Usuario?       @relation(fields: [coordenadorId], references: [id])
  coordenadorId        String?
  Admin                Administrador? @relation(fields: [AdminId], references: [id])
  AdminId              String?
}
